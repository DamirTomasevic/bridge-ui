# Simulation and Exported Data Parser and Visualization

## How to use

Assuming you are in this directory.

### Setup

1. **Update Foundry**

   Before installing any packages, ensure your Foundry environment is up to date by running:

   ```
   foundryup
   ```

   This command updates Foundry tools to their latest versions.

2. **Install Required Packages**

   Install the necessary Python packages using pip:

   ```
   python3 -m pip install -r requirements.txt
   ```

### Exporting Configuration

4. **Export Simulation Configuration**

   Run the following command to export the configuration used in the `test_eip1559_math` test to a file in the `out/` directory. A unique file name based on the current timestamp will be generated automatically (e.g., `simconf_<timestamp>.txt`):

   ```
   pnpm run export:simconf
   ```

   **Note:** Replace `<timestamp>` with the actual timestamp from the generated file name.

### Running Simulation

5. **Run Simulation**

   After exporting the configuration, locate the newly created file in the `out/` directory. Run the simulation using the command below, replacing `simconf_<timestamp>.txt` with the name of your specific file:

   ```
   python3 simulate.py out/simconf_<timestamp>.txt
   ```

   For example, if your file is named `simconf_1697809145.txt`, the command would be:

   ```
   python3 simulate.py out/simconf_1697809145.txt
   ```

**Important:** The filename `simconf_<timestamp>.txt` is provided as an example. Your file will have a different timestamp. Please adjust the command according to the actual file name generated by the export process.

### Understanding the Outcome

The parameters set in the `test_eip1559_math` test simulate approximations of possible mainnet scenarios (e.g., 10x the Ethereum gas target). Run the commands as described above to become familiar with the simulation outcome and generated plots.
